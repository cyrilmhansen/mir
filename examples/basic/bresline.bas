10 REM Bresenham line demo with colors
20 W=80:H=48:ESC$=CHR$(27)
30 PRINT ESC$;"[2J";ESC$;"[H"
40 CX=40:CY=24
50 RESTORE
60 FOR I=0 TO 7
70  READ X,Y,COL
80  A=CX:B=CY:X1=X:Y1=Y:COLR=COL
90  GOSUB 2000
100 NEXT I
110 PRINT ESC$;"[0m"
120 PRINT "BRESENHAM LINE DEMO"
130 END
140 DATA 79,47,196, 79,0,202, 0,47,34, 0,0,40, 79,24,82, 0,24,118, 40,0,160, 40,47,208
2000 REM Bresenham line from (A,B) to (X1,Y1)
2010 DX=ABS(X1-A):SX=SGN(X1-A)
2020 DY=ABS(Y1-B):SY=SGN(Y1-B)
2030 ERR=DX-DY
2040 WHILE 1
2050  PX=A:PY=B:GOSUB 3000
2060  IF A=X1 AND B=Y1 THEN RETURN
2070  E2=ERR*2
2080  IF E2>-DY THEN ERR=ERR-DY:A=A+SX
2090  IF E2<DX THEN ERR=ERR+DX:B=B+SY
2100 WEND
2110 RETURN
3000 REM Plot point at (PX,PY)
3010 PRINT ESC$;"[";STR$(PY+1);";";STR$(PX+1);"H";ESC$;"[38;5;";STR$(COLR);"mâ–ˆ";
3020 RETURN
