10 REM Spigot algorithm for Pi digits using integers
20 PRINT "DIGITS?"
30 INPUT D
40 PI$=""
50 Q=1:R=0:T=1:K=1:N=3:L=3
55 M=D+1
60 FOR I=1 TO M
70  IF 4*Q+R-T<N*T THEN GOSUB 500 ELSE GOSUB 600
80 NEXT I
90 GOTO 700
500 PI$=PI$+CHR$(48+N)
510 IF LEN(PI$)=1 THEN PI$+"."
520 NR=10*(R-N*T)
530 N=(10*(3*Q+R))\\T-10*N
540 Q=Q*10
550 R=NR
560 RETURN
600 NR=(2*Q+R)*L
610 NN=(Q*(7*K)+2+R*L)\\(T*L)
620 Q=Q*K
630 T=T*L
640 L=L+2
650 K=K+1
660 N=NN
670 R=NR
680 RETURN
700 PRINT PI$
710 END
