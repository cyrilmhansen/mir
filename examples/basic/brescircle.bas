10 REM Bresenham circle demo with colors
20 W=80:H=48:ESC$=CHR$(27)
30 PRINT ESC$;"[2J";ESC$;"[H"
40 CX=40:CY=24
50 R=20:COL=196:GOSUB 1000
60 R=10:COL=34:GOSUB 1000
70 COL=34:GOSUB 1200
80 PRINT ESC$;"[0m"
90 PRINT "BRESENHAM CIRCLE DEMO"
100 END
1000 REM Draw circle at (CX,CY) radius R
1010 X=0:Y=R:D=3-2*R
1020 WHILE X<=Y
1030  PX=CX+X:PY=CY+Y:GOSUB 3000
1040  PX=CX-X:PY=CY+Y:GOSUB 3000
1050  PX=CX+X:PY=CY-Y:GOSUB 3000
1060  PX=CX-X:PY=CY-Y:GOSUB 3000
1070  PX=CX+Y:PY=CY+X:GOSUB 3000
1080  PX=CX-Y:PY=CY+X:GOSUB 3000
1090  PX=CX+Y:PY=CY-X:GOSUB 3000
1100  PX=CX-Y:PY=CY-X:GOSUB 3000
1110  X=X+1
1120  IF D>0 THEN Y=Y-1:D=D+4*(X-Y)+10 ELSE D=D+4*X+6
1130 WEND
1140 RETURN
1200 REM Fill circle radius R
1210 FOR PY=CY-R TO CY+R
1220  DX=INT(SQR(R*R-(PY-CY)*(PY-CY)))
1230  FOR PX=CX-DX TO CX+DX
1240   GOSUB 3000
1250  NEXT PX
1260 NEXT PY
1270 RETURN
3000 REM Plot pixel
3010 IF PX>=0 AND PX<W AND PY>=0 AND PY<H THEN PRINT ESC$;"[";STR$(PY+1);";";STR$(PX+1);"H";ESC$;"[38;5;";STR$(COL);"mâ–ˆ";
3020 RETURN
